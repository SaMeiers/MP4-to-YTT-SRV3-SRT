<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MP4 to YTT/SRV3 Converter</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>MP4 to YTT/SRV3 Converter</h1>
            <p class="tagline">Transforma tus videos en arte ASCII para subtítulos de YouTube</p>
        </header>
        
        <div class="content">
            <div class="controls">
                <h2>Configuración</h2>
                
                <div class="form-group">
                    <label for="videoFile">Archivo de Video (MP4)</label>
                    <input type="file" id="videoFile" accept="video/mp4">
                </div>
                
                <div class="form-group">
                    <label for="fps">FPS de Entrada (30, 60, 90...)</label>
                    <input type="number" id="fps" value="30" min="30" step="30">
                </div>
                
                <div class="form-group">
                    <label for="columns">Columnas (ej: 40)</label>
                    <input type="number" id="columns" value="40" min="10" max="40">
                    <small>Máximo 40 columnas y 12 filas (límites de YouTube)</small>
                </div>
                
                <div class="form-group">
                    <label>Conjunto de Caracteres</label>
                    <div class="custom-select">
                        <div class="select-selected" id="selectSelected">
                            <span class="selected-text">Detallado</span>
                            <span class="select-arrow">▼</span>
                        </div>
                        <div class="select-items" id="selectItems">
                            <div class="select-option" data-value="$8obdpq0Lun1+&quot;`">
                                <span class="option-name">Detallado</span>
                                <span class="option-chars">$8obdpq0Lun1+"`</span>
                            </div>
                            <div class="select-option" data-value=" .:-=+*#%@">
                                <span class="option-name">Estándar</span>
                                <span class="option-chars">.:-=+*#%@</span>
                            </div>
                            <div class="select-option" data-value="@%#*+=-:. ">
                                <span class="option-name">Invertido</span>
                                <span class="option-chars">@%#*+=-:. </span>
                            </div>
                            <div class="select-option" data-value=" .,:;!7?%$#@">
                                <span class="option-name">Suavizado</span>
                                <span class="option-chars">.,:;!7?%$#@</span>
                            </div>
                            <div class="select-option" data-value=" .oO0@#%&*+">
                                <span class="option-name">Círculos</span>
                                <span class="option-chars">.oO0@#%&*+</span>
                            </div>
                            <div class="select-option" data-value="custom">
                                <span class="option-name">Personalizado</span>
                                <span class="option-chars">Ingresa tus caracteres</span>
                            </div>
                        </div>
                        <select id="charSet" style="display: none;">
                            <option value="$8obdpq0Lun1+&quot;`">Detallado</option>
                            <option value=" .:-=+*#%@">Estándar(.:-=+*#%@)</option>
                            <option value="@%#*+=-:. ">Invertido(.:-=+*#%@)</option>
                            <option value=" .,:;!7?%$#@">Suavizado(.,:;!7?%$#@)</option>
                            <option value=" .oO0@#%&*+">Círculos(.oO0@#%&*+)</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>
                </div>

                <div class="form-group" id="customCharSetGroup" style="display: none;">
                    <label for="customCharSet">Caracteres Personalizados</label>
                    <input type="text" id="customCharSet" placeholder="Ingresa tus caracteres aquí">
                </div>
                
                <div class="form-group">
                    <label for="msOffset">Offset Milisegundos (opcional)</label>
                    <input type="number" id="msOffset" value="0">
                </div>
                
                <div class="form-group">
                    <label for="idOffset">Offset ID (opcional)</label>
                    <input type="number" id="idOffset" value="0">
                </div>
                
                <div class="form-group">
                    <label for="exportFormat">Formato de Exportación</label>
                    <select id="exportFormat">
                        <option value="ytt">YTT/SRV3 (YouTube Timed Text)</option>
                        <option value="srt">SRT (SubRip)</option>
                        <option value="ass">ASS (Advanced SubStation Alpha)</option>
                    </select>
                </div>
                
                <button id="convertBtn" class="btn">Convertir Video</button>
                <button id="sampleBtn" class="btn btn-secondary">Ver Ejemplo ASCII</button>
            </div>
            
            <div class="preview">
                <h2>Vista Previa</h2>
                <div class="preview-box" id="previewBox">
                    Selecciona un video o haz clic en "Ver Ejemplo ASCII"
                </div>
                
                <div class="progress-container" id="progressContainer">
                    <div class="progress-info">
                        <span id="progressText">Procesando: 0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="status" id="statusText">Iniciando conversión...</div>
                </div>
                
                <div class="download-section" id="downloadSection">
                    <button id="downloadBtn" class="btn">Descargar Archivo</button>
                    <p id="fileInfo" class="status"></p>
                </div>
            </div>
        </div>
        
        <div class="info-section">
            <h2>¿Cómo usar esta herramienta?</h2>
            <p>Convierte cualquier video MP4 en un archivo YTT/SRV3 con arte ASCII que puedes usar como subtítulos en YouTube. Todo el procesamiento ocurre localmente en tu navegador, sin subir tus videos a ningún servidor, funciona mejor con videos que tengan pocos colores/un solo color/dos colores.</p>
            
            <div class="info-grid">
                <div class="info-card">
                    <h3>Recomendaciones</h3>
                    <ul>
                        <li>Videos cortos (1-2 min) para mejor rendimiento</li>
                        <li>Resolución moderada (720p o menos)</li>
                        <li>Utilizar videos con relación de aspecto 16:9 para mejores resultados</li>
                        <li>Usar el conjunto "Detallado" con videos en blanco y negro (o pocos colores) para mejores resultados</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h3>Parámetros</h3>
                    <ul>
                        <li><strong>Columnas:</strong> 40 máximo (límite YouTube)</li>
                        <li><strong>Filas:</strong> 12 máximo (límite YouTube)</li>
                        <li><strong>FPS:</strong> Debe ser múltiplo de 30</li>
                        <li><strong>Offsets:</strong> Para sincronización</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h3>Características</h3>
                    <ul>
                        <li>Procesamiento 100% local</li>
                        <li>Interfaz responsive</li>
                        <li>Vista previa en tiempo real</li>
                        <li>Código abierto</li>
                        <li>Soporte para YTT/SRV3, SRT y ASS</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h3>Créditos</h3>
                    <div class="credits">
                        <div class="credit-item">
                            <strong>SaMeiers (Autor)</strong>
                            <p>
                                <a href="https://www.youtube.com/@SaMeiersOficial" target="_blank">YouTube</a><br>
                                <a href="https://github.com/SaMeiers" target="_blank">GitHub</a>
                            </p>
                        </div>
                        <div class="credit-item">
                            <strong>Nachtwind (Inspiración)</strong>
                            <p>
                                <a href="https://youtube.com/@nachtwind4949?si=3N37I4H7YatDUe2w" target="_blank">YouTube</a><br>
                                <a href="https://github.com/Nachtwind1/Mp4-To-Srt" target="_blank">GitHub</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="alert.js"></script>
    <script src="script.js"></script>
</body>
</html>